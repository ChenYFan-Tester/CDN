
<!DOCTYPE html>
<head>
	<title>ChenYFanのCDN已终止服务</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/ChenYFan/CDN@master/css/cdn.css">
</head>
<body>
	
	
	<div class="bg-img1 size1 flex-w flex-c-m p-t-55 p-b-55 p-l-15 p-r-15" style="background-image: url('https://api.cyfan.top/bing');">
		<div class="wsize1 bor1 bg1 p-t-175 p-b-45 p-l-15 p-r-15 respon1">
			<div class="wrappic1">
				<h1>ChenYFanのCDN</h1>
			</div>

			<p class="txt-center m1-txt1 p-t-33 p-b-68">
				CDN节点选择服务已永远终止服务
			</p>

			<div class="wsize2 flex-w flex-c hsize1 cd100">
				<div class="flex-col-c-m size2 how-countdown">
					<span class="l1-txt1 p-b-9 days">-1</span>
					<span class="s1-txt1">Days</span>
				</div>

				<div class="flex-col-c-m size2 how-countdown">
					<span class="l1-txt1 p-b-9 hours">-1</span>
					<span class="s1-txt1">Hours</span>
				</div>

				<div class="flex-col-c-m size2 how-countdown">
					<span class="l1-txt1 p-b-9 minutes">-1</span>
					<span class="s1-txt1">Minutes</span>
				</div>

				<div class="flex-col-c-m size2 how-countdown">
					<span class="l1-txt1 p-b-9 seconds">-1</span>
					<span class="s1-txt1">Seconds</span>
				</div>
			</div>

			<div class="flex-w flex-c-m contact100-form validate-form p-t-55">
				<div class="wrap-input100 validate-input where1">
					<input class="s1-txt2 placeholder0 input100" type="text" id="cdnip">
					<span class="focus-input100"></span>
				</div>

				
				<button class="flex-c-m s1-txt3 size3 how-btn trans-04 where1" onclick="getip()">
					查询符合当前网络的CDNIP【EDNS】
				</button>
				
			</div>

			<p class="s1-txt4 txt-center p-t-10">
				Q：为什么终止了服务。
			</p>
			<p class="s1-txt4 txt-center p-t-10">
				A：CNAME绑定其他账户的域名本就在CloudFlare里不合规，在2021/3/13日CloudFlare做出了新的限制，跨账户绑定别人的CNAME域名将受到Error 1014：CNAME Cross-User Banned错误。并且公开使用CNAME绑定可能会出现安全问题和勒索问题，故彻底关闭此服务。如果您试图将域名继续CNAME到本站，将会收到1014错误。
			</p>
			
		</div>
	</div>

<script>

function ajaxObject() {
    var xmlHttp;
    try {

        xmlHttp = new XMLHttpRequest();
        } 
    catch (e) {

        try {
                xmlHttp = new ActiveXObject("Msxml2.XMLHTTP");
            } catch (e) {
            try {
                xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {
                return false;
            }
        }
    }
    return xmlHttp;
};
function getip(){
document.getElementById('cdnip').value = '尝试获取IP中...'
	var ajax = ajaxObject();
    ajax.open( "get" , `https://api.cyfan.top/ohhhdns?name=cdn.cyfan.top&host=true&limit=2&upstream=ali`, true );
    ajax.setRequestHeader( "Content-Type" , "text/plain" );
    ajax.onreadystatechange = function () {
        if( ajax.readyState == 4 ) {
            if( ajax.status == 200 ) {
			document.getElementById('cdnip').value = ajax.responseText.split('cdn.cyfan.top')[1].split('\n')[0].replace(' ','')
			
            }
            else {
                document.getElementById('cdnip').value = '获取ip失败！'
            }
        }
    }
    ajax.send();
}


</script>

	

</body>
</html>
